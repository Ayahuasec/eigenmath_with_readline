<html>
<body>

<script src="eigenmath.js"></script>

<table><tr><td>
<textarea id="stdin" rows="24" cols="80" style="font-family:courier;font-size:12pt">
-1/2 x^2 + 1/2 x + y/x^2 + X^2

-A B/C + A/B/C + A j/k + u(A + B)/x + v(j^2 + k^2)/x

2^(-1/2 x(j^2) + 1)

sin(1/2 x^2)^2

-y / (x^2 (y^2 / x^2 + 1))

1.0 / (A + B)

-1.0 / (A + B)

2.0 / (A + B)

-2.0 / (A + B)

1/(A + B)

2/(A + B)

1/3 1/(A + B)

2/3 1/(A + B)

1/(A + B) 1/(C + D)

N = 13/4000000

N^(3/2)
check(prefixform(last) == "(* 13/8000000000 (^ 13 1/2))")

N^(5/2)
check(prefixform(last) == "1.90418e-14")

N^(-3/2)
check(prefixform(last) == "(* 8000000000/13 (^ 13 -1/2))")

N^(-5/2)
check(prefixform(last) == "5.25160e+13")

check(prefixform((-1)^( 0/8)) == "1")
check(prefixform((-1)^( 1/8)) == "(^ -1 1/8)")
check(prefixform((-1)^( 2/8)) == "(^ -1 1/4)")
check(prefixform((-1)^( 3/8)) == "(^ -1 3/8)")
check(prefixform((-1)^( 4/8)) == "(^ -1 1/2)")
check(prefixform((-1)^( 5/8)) == "(* -1 (^ -1 -3/8))")
check(prefixform((-1)^( 6/8)) == "(* -1 (^ -1 -1/4))")
check(prefixform((-1)^( 7/8)) == "(* -1 (^ -1 -1/8))")
check(prefixform((-1)^( 8/8)) == "-1")
check(prefixform((-1)^( 9/8)) == "(* -1 (^ -1 1/8))")
check(prefixform((-1)^(10/8)) == "(* -1 (^ -1 1/4))")
check(prefixform((-1)^(11/8)) == "(* -1 (^ -1 3/8))")
check(prefixform((-1)^(12/8)) == "(* -1 (^ -1 1/2))")
check(prefixform((-1)^(13/8)) == "(^ -1 -3/8)")
check(prefixform((-1)^(14/8)) == "(^ -1 -1/4)")
check(prefixform((-1)^(15/8)) == "(^ -1 -1/8)")
check(prefixform((-1)^(16/8)) == "1")
check(prefixform((-1)^(17/8)) == "(^ -1 1/8)")
check(prefixform((-1)^(18/8)) == "(^ -1 1/4)")
check(prefixform((-1)^(19/8)) == "(^ -1 3/8)")
check(prefixform((-1)^(20/8)) == "(^ -1 1/2)")
check(prefixform((-1)^(21/8)) == "(* -1 (^ -1 -3/8))")
check(prefixform((-1)^(22/8)) == "(* -1 (^ -1 -1/4))")
check(prefixform((-1)^(23/8)) == "(* -1 (^ -1 -1/8))")
check(prefixform((-1)^(24/8)) == "-1")
check(prefixform((-1)^(25/8)) == "(* -1 (^ -1 1/8))")
check(prefixform((-1)^(26/8)) == "(* -1 (^ -1 1/4))")
check(prefixform((-1)^(27/8)) == "(* -1 (^ -1 3/8))")
check(prefixform((-1)^(28/8)) == "(* -1 (^ -1 1/2))")
check(prefixform((-1)^(29/8)) == "(^ -1 -3/8)")
check(prefixform((-1)^(30/8)) == "(^ -1 -1/4)")
check(prefixform((-1)^(31/8)) == "(^ -1 -1/8)")
check(prefixform((-1)^(32/8)) == "1")

check(prefixform((-1)^(- 0/8)) == "1")
check(prefixform((-1)^(- 1/8)) == "(^ -1 -1/8)")
check(prefixform((-1)^(- 2/8)) == "(^ -1 -1/4)")
check(prefixform((-1)^(- 3/8)) == "(^ -1 -3/8)")
check(prefixform((-1)^(- 4/8)) == "(* -1 (^ -1 1/2))")
check(prefixform((-1)^(- 5/8)) == "(* -1 (^ -1 3/8))")
check(prefixform((-1)^(- 6/8)) == "(* -1 (^ -1 1/4))")
check(prefixform((-1)^(- 7/8)) == "(* -1 (^ -1 1/8))")
check(prefixform((-1)^(- 8/8)) == "-1")
check(prefixform((-1)^(- 9/8)) == "(* -1 (^ -1 -1/8))")
check(prefixform((-1)^(-10/8)) == "(* -1 (^ -1 -1/4))")
check(prefixform((-1)^(-11/8)) == "(* -1 (^ -1 -3/8))")
check(prefixform((-1)^(-12/8)) == "(^ -1 1/2)")
check(prefixform((-1)^(-13/8)) == "(^ -1 3/8)")
check(prefixform((-1)^(-14/8)) == "(^ -1 1/4)")
check(prefixform((-1)^(-15/8)) == "(^ -1 1/8)")
check(prefixform((-1)^(-16/8)) == "1")
check(prefixform((-1)^(-17/8)) == "(^ -1 -1/8)")
check(prefixform((-1)^(-18/8)) == "(^ -1 -1/4)")
check(prefixform((-1)^(-19/8)) == "(^ -1 -3/8)")
check(prefixform((-1)^(-20/8)) == "(* -1 (^ -1 1/2))")
check(prefixform((-1)^(-21/8)) == "(* -1 (^ -1 3/8))")
check(prefixform((-1)^(-22/8)) == "(* -1 (^ -1 1/4))")
check(prefixform((-1)^(-23/8)) == "(* -1 (^ -1 1/8))")
check(prefixform((-1)^(-24/8)) == "-1")
check(prefixform((-1)^(-25/8)) == "(* -1 (^ -1 -1/8))")
check(prefixform((-1)^(-26/8)) == "(* -1 (^ -1 -1/4))")
check(prefixform((-1)^(-27/8)) == "(* -1 (^ -1 -3/8))")
check(prefixform((-1)^(-28/8)) == "(^ -1 1/2)")
check(prefixform((-1)^(-29/8)) == "(^ -1 3/8)")
check(prefixform((-1)^(-30/8)) == "(^ -1 1/4)")
check(prefixform((-1)^(-31/8)) == "(^ -1 1/8)")
check(prefixform((-1)^(-32/8)) == "1")

check(exp(-1/2 i pi) == -i)
check(exp(-i pi) == -1)
check(exp(-3/2 i pi) == i)

-- minormatrix

A = ((1,2),
     (3,4))

check(minormatrix(A,1,1) == 4)
check(minormatrix(A,1,2) == 3)

check(minormatrix(A,2,1) == 2)
check(minormatrix(A,2,2) == 1)

A = ((1,2,3),
     (4,5,6))

check(minormatrix(A,1,1) == (5,6))
check(minormatrix(A,1,2) == (4,6))
check(minormatrix(A,1,3) == (4,5))

check(minormatrix(A,2,1) == (2,3))
check(minormatrix(A,2,2) == (1,3))
check(minormatrix(A,2,3) == (1,2))

A = ((1,2),
     (3,4),
     (5,6))

check(minormatrix(A,1,1) == (4,6))
check(minormatrix(A,1,2) == (3,5))

check(minormatrix(A,2,1) == (2,6))
check(minormatrix(A,2,2) == (1,5))

check(minormatrix(A,3,1) == (2,4))
check(minormatrix(A,3,2) == (1,3))

A = ((1,2,3),
     (4,5,6),
     (7,8,9))

check(minormatrix(A,1,1) == ((5,6),(8,9)))
check(minormatrix(A,1,2) == ((4,6),(7,9)))
check(minormatrix(A,1,3) == ((4,5),(7,8)))

check(minormatrix(A,2,1) == ((2,3),(8,9)))
check(minormatrix(A,2,2) == ((1,3),(7,9)))
check(minormatrix(A,2,3) == ((1,2),(7,8)))

check(minormatrix(A,3,1) == ((2,3),(5,6)))
check(minormatrix(A,3,2) == ((1,3),(4,6)))
check(minormatrix(A,3,3) == ((1,2),(4,5)))

A = ((A11,A12,A13),(A21,A22,A23),(A31,A32,A33))
B = ((0,0,0),(0,0,0),(0,0,0))
for(i,1,3,for(j,1,3,B[j,i] = (-1)^(i + j) minor(A,i,j)))
check(B == adj(A))

-- cofactor

A = ((A11,A12),(A21,A22))
B = ((0,0),(0,0))
for(i,1,2,for(j,1,2,B[j,i] = cofactor(A,i,j)))
check(adj(A) == B)

A = ((A11,A12,A13),(A21,A22,A23),(A31,A32,A33))
B = ((0,0,0),(0,0,0),(0,0,0))
for(i,1,3,for(j,1,3,B[j,i] = cofactor(A,i,j)))
check(adj(A) == B)

"Testing kron"

A = (2,3)
B = (a,b,c)
check(kron(A,B) == (2a,2b,2c,3a,3b,3c))
check(kron(B,A) == (2a,3a,2b,3b,2c,3c))

A = (a,b)
B = ((2,3,4),(5,6,7),(8,9,10),(11,12,13))

C = ((2a,3a,4a),
     (5a,6a,7a),
     (8a,9a,10a),
     (11a,12a,13a),
     (2b,3b,4b),
     (5b,6b,7b),
     (8b,9b,10b),
     (11b,12b,13b))

check(kron(A,B) == C)

C = ((2a,3a,4a),
     (2b,3b,4b),
     (5a,6a,7a),
     (5b,6b,7b),
     (8a,9a,10a),
     (8b,9b,10b),
     (11a,12a,13a),
     (11b,12b,13b))

check(kron(B,A) == C)

A = ((2,3),(4,5))
B = ((a,b),(c,d))

C = ((2a,2b,3a,3b),
     (2c,2d,3c,3d),
     (4a,4b,5a,5b),
     (4c,4d,5c,5d))

check(kron(A,B) == C)

"Testing noexpand"

A = ((a^2 - lambda,0,0),(0,b^2 - lambda,0),(0,0,c^2 - lambda))
B = ((1 / (a^2 - lambda),0,0),(0,1 / (b^2 - lambda),0),(0,0,1 / (c^2 - lambda)))
check(noexpand(inv(A)) == B)
check(noexpand(adj(A)/det(A)) == B)

"All tests passed"
</textarea>
</td><td>
<button onclick="run()" style="font-size:20pt">Run</button>
</td></tr></table>

<p>
<div id="stdout"></div>

</body>
</html>
